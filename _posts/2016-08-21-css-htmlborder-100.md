---
layout: post
title: "在css设置body背景图像在手机端不会显示"
author: "hopeverse"
---
 
记录css中html,body中对于宽高100%细节的理解  

今天给自己的新域名做了一个简单的页面，然后准备给body加个背景图，然后使用了如下代码：

```
body{
    background:url(xxx) no-repeat center center /100% 100% 
}

```

然后打开了浏览器查看了一番，没问题。可以。然后用手机端看了一下，直接懵x 。 值啊手机端直接显示空白。   

对于自己平时做页面的时候，感觉这应该是不会遇到的事情啊，然后就去查找问题所在。给body加上了宽高100%之后

```
body{

    width:100% ;
    height:100% ;

```


感觉这下应该没问题了吧，结果一看，继续懵，依旧没有变化 。开始在怀疑自己是不是在探索新的技术同时，自己以前所理解的都有问题了。又经过一段时间问题的排查，终于知道原因了。

原来在最开始我们写css的时候，都疏忽了需要加上这么一句：

```
html,body{
    width:100%;
    height:100%;
}

```

只有这样，才可以在空块级元素中，设置宽高100%，背景图像才会显示。因为设置背景图像大家都比较喜欢让它自适应100%扩大缩小，那么100%它所参照的就是父级的宽高，如果说html，body都没有设置宽高的话，那么它们和一个普通的div毫无两样。  

那么我们可以看一下，只给body设置宽高宽高，而不给html设置的区别，为了能够直观看见区别还对body设置了颜色:

![htmlkg](/images/posts/cite/htmlkg.jpg)  

由此验证了前面说的，html，body在不设置宽高的时候，是等高等宽的。为什么要设置HTML和body的高度？

>在怪异模式下，也就是不写!DOCTYPE的时候，body可以做为根元素，那么只需要设置body就可以不用管html是否设置宽高了，那么在写DOCTYPE的标准模式下呢？那么不设置html的高度100%，设置body的高度100%是无效的，因为设置百分比是需要参照父元素尺寸的。。还有另外，html的高度100%是相对于浏览器高度来比较的。

另外，如果不给html设置宽高100%，给body同样不设置，那么显示的内容完全是由body的子元素内容给撑开的，并且在电脑端和手机端查看的效果都不会是一样的，如果说需要设置自适应的背景图像，那么最好给html加上宽高100%，这样进行背景图像的background-size全部设置为100%，那么就能够在电脑端和手机端的显示就能够自适应撑满屏幕了，最后还有就是加上了height:100%的元素，如果往上面父元素找height的时候，遇到auto或者没有设置，那么height:100%不会奏效，就算它的上上级设置了具体高度同样也是无效的。。


经过这么一个小问题，感觉在小细节方面我们应该也要更多的注重，更多时候还需要温故而知新啊！

<br/>

>如需转载，请注明出处。谢谢！

[https://liutianzhu.me](https://liutianzhu.me)
